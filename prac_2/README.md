# Анализ сети друзей ВКонтакте с методом порожденного графа - Задача №2

## Описание задачи
Анализ датасета друзей и друзей друзей из ВК для членов группы с применением **метода порожденного графа (induced subgraph)** для анализа различных подсетей и последующим анализом центральности по трем ключевым метрикам:
- Центральность по посредничеству (Betweenness Centrality)
- Центральность по близости (Closeness Centrality) 
- Центральность собственного вектора (Eigenvector Centrality)

## Метод порожденного графа
Порожденный подграф G[S] для множества вершин S - это подграф, содержащий все вершины из S и все рёбра из исходного графа G, которые соединяют вершины в S. Этот метод позволяет:
- Анализировать структуру подсетей внутри большой социальной сети
- Сравнивать свойства различных сообществ
- Выявлять ключевые узлы в контексте конкретных подгрупп

## Структура датасета
Проект использует датасет `databaseFriends.json`, который содержит:
- **Размер группы**: 5 человек (основные члены группы)
- **Структура данных**: Каждый член группы имеет:
  - `id` - уникальный идентификатор
  - `first_name`, `last_name` - имя и фамилия
  - `city` - город проживания
  - `friends` - массив друзей, каждый из которых также имеет друзей (друзья друзей)

### Текущие результаты анализа:
- **Общее количество узлов**: 153 (5 членов группы + 148 друзей)
- **Общее количество связей**: 150
- **Плотность основной сети**: 0.0129
- **Города**: Москва, Одинцово, Фрязино, Щелково, Балашиха, Химки, Мытищи, Королев, Люберцы

## Порожденные подграфы
1. **Подграф членов группы**: 5 узлов, 0 связей (члены группы не связаны напрямую друг с другом)
2. **K-ядро**: 6 узлов, 7 связей, плотность 0.4667
3. **Подграф высокой центральности**: 51 узел, 48 связей, плотность 0.0376
4. **Индивидуальные подграфы**: для каждого члена группы и его друзей (по 6 узлов каждый)

## Результаты анализа центральности

### Наиболее центральные члены группы:

### В основной сети:

#### По центральности посредничества:
1. **Глеб Зворыкин** (Город: Москва) - 0.0314
2. **Влад Журавлев** (Город: Одинцово) - 0.0314
3. **Алексей Прохоров** (Город: Щелково) - 0.0314
4. **Артём Потапов** (Город: Фрязино) - 0.0314
5. **Алексей Васильков** (Город: Фрязино) - 0.0231

#### По центральности близости:
1. **Глеб Зворыкин** (Город: Москва) - 0.1077
2. **Влад Журавлев** (Город: Одинцово) - 0.1077
3. **Алексей Прохоров** (Город: Щелково) - 0.1077
4. **Артём Потапов** (Город: Фрязино) - 0.1077
5. **Алексей Васильков** (Город: Фрязино) - 0.1011

#### По центральности собственного вектора:
1. **Алексей Васильков** (Город: Фрязино) - 0.4681
2. **Глеб Зворыкин** (Город: Москва) - 0.0001
3. **Влад Журавлев** (Город: Одинцово) - 0.0001
4. **Алексей Прохоров** (Город: Щелково) - 0.0001
5. **Артём Потапов** (Город: Фрязино) - 0.0001

### В подграфе группы:
Члены группы не связаны напрямую друг с другом в исходных данных, поэтому все метрики центральности в подграфе группы равны 0.

## Интерпретация результатов

### Ключевые выводы:

#### Анализ основной сети:
1. **Глеб Зворыкин** (Москва) - лидер по посредничеству и близости в основной сети
2. **Алексей Васильков** (Фрязино) - лидер по влиятельности (центральность собственного вектора)
3. Четыре члена группы (Глеб, Влад, Алексей Прохоров, Артём) имеют одинаковые значения центральности посредничества и близости, что указывает на их схожую роль в сети

#### Анализ подграфа группы:
- Члены группы не связаны напрямую друг с другом в исходных данных
- Все связи проходят через друзей, что создает структуру "звезда" для каждого члена группы

#### Сравнение порожденных подграфов:
- **K-ядро** имеет наивысшую плотность (0.4667) - самое плотное ядро сети
- **Подграф высокой центральности** содержит 51 узел с плотностью 0.0376
- **Индивидуальные подграфы** членов группы имеют диаметр 2 и среднюю длину пути ~1.6-1.7

### Различия в метриках:
- **Центральность посредничества** выявляет узлы, которые служат мостами между различными частями сети
- **Центральность близости** показывает узлы с наименьшим средним расстоянием до всех остальных
- **Центральность собственного вектора** определяет узлы, связанные с другими влиятельными узлами

## Файлы проекта
- `vk_friends_ip_dataset.py` - Основной код с методом порожденного графа (адаптирован для работы с databaseFriends.json)
- `visualize_subgraphs.py` - Дополнительная визуализация подграфов
- `databaseFriends.json` - Исходный датасет с информацией о друзьях
- `vk_friends_dataset.json` - Сохраненный датасет в формате JSON
- `group_members_centrality_analysis.csv` - Детальный анализ центральности членов группы
- `subgraph_analysis.csv` - Анализ свойств порожденных подграфов
- `vk_friends_network.png` - Визуализация основной сети
- `subgraphs_comparison.png` - Сравнительная визуализация подграфов
- `requirements.txt` - Зависимости проекта

## Использование
```bash
pip install -r requirements.txt
python vk_friends_ip_dataset.py  # Основной анализ с порожденными подграфами
python visualize_subgraphs.py    # Дополнительная визуализация подграфов
```

## Технические детали
- **Метод порожденного графа**: реализованы различные типы подграфов (группа, k-ядро, высокая центральность, индивидуальные)
- **Источник данных**: Датасет загружается из файла `databaseFriends.json`
- **Структура данных**: Используются поля id, first_name, last_name, city вместо IP-адресов
- Алгоритмы центральности реализованы с помощью библиотеки NetworkX
- Анализ проводится как для основной сети, так и для каждого порожденного подграфа
- Визуализация создана с помощью matplotlib
- Сравнительный анализ свойств различных подграфов (плотность, диаметр, кластеризация)
