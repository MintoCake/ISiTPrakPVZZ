# Анализ сети друзей ВКонтакте с методом порожденного графа - Задача №2

## Описание задачи
Создан датасет IP-адресов друзей и друзей друзей из ВК для членов группы с применением **метода порожденного графа (induced subgraph)** для анализа различных подсетей и последующим анализом центральности по трем ключевым метрикам:
- Центральность по посредничеству (Betweenness Centrality)
- Центральность по близости (Closeness Centrality) 
- Центральность собственного вектора (Eigenvector Centrality)

## Метод порожденного графа
Порожденный подграф G[S] для множества вершин S - это подграф, содержащий все вершины из S и все рёбра из исходного графа G, которые соединяют вершины в S. Этот метод позволяет:
- Анализировать структуру подсетей внутри большой социальной сети
- Сравнивать свойства различных сообществ
- Выявлять ключевые узлы в контексте конкретных подгрупп

## Структура датасета
- **Размер группы**: 20 человек
- **Общее количество узлов**: 236 (20 членов группы + 216 внешних друзей)
- **Общее количество связей**: 374
- **Плотность основной сети**: 0.0135
- **IP-адреса**: Реалистичные адреса из диапазонов российских провайдеров
- **VK ID**: Реалистичные идентификаторы ВКонтакте (8-9 цифр, например: 622340849)

## Порожденные подграфы
1. **Подграф членов группы**: 20 узлов, 86 связей, плотность 0.4526
2. **K-ядро**: 16 узлов, 63 связи, плотность 0.5000
3. **Подграф высокой центральности**: 78 узлов, 178 связей, плотность 0.0593
4. **Индивидуальные подграфы**: для каждого члена группы и его друзей

## Результаты анализа центральности

### Наиболее центральные члены группы:

### В основной сети:

#### По центральности посредничества:
1. **Елена Иванов** (VK: 622340849, IP: 37.29.158.203) - 0.1564
2. **Михаил Попов** (VK: 520435407, IP: 85.143.14.247) - 0.1524
3. **Михаил Петрова** (VK: 348880886, IP: 109.195.203.76) - 0.1522
4. **Наталья Сидорова** (VK: 568453794, IP: 178.183.14.213) - 0.1401
5. **Наталья Кузнецова** (VK: 779624310, IP: 195.98.5.21) - 0.1323

#### По центральности близости:
1. **Елена Иванов** (VK: 622340849, IP: 37.29.158.203) - 0.4511
2. **Михаил Петрова** (VK: 348880886, IP: 109.195.203.76) - 0.4459
3. **Михаил Попов** (VK: 520435407, IP: 85.143.14.247) - 0.4417
4. **Наталья Сидорова** (VK: 568453794, IP: 178.183.14.213) - 0.4384
5. **Ольга Попова** (VK: 746580808, IP: 109.195.230.160) - 0.4288

#### По центральности собственного вектора:
1. **Максим Соколов** (VK: 231729160, IP: 85.143.196.103) - 0.2560
2. **Михаил Петрова** (VK: 348880886, IP: 109.195.203.76) - 0.2540
3. **Алексей Петрова** (VK: 283208892, IP: 37.29.51.179) - 0.2508
4. **Алексей Иванова** (VK: 259889404, IP: 46.39.115.24) - 0.2477
5. **Елена Иванов** (VK: 622340849, IP: 37.29.158.203) - 0.2411

### В подграфе группы:

#### По центральности посредничества:
1. **Михаил Петрова** (VK: 348880886) - 0.0718
2. **Наталья Сидорова** (VK: 568453794) - 0.0564
3. **Максим Соколов** (VK: 231729160) - 0.0499
4. **Елена Иванов** (VK: 622340849) - 0.0443
5. **Михаил Попов** (VK: 520435407) - 0.0376

#### По центральности близости:
1. **Максим Соколов** (VK: 231729160) - 0.7037
2. **Михаил Петрова** (VK: 348880886) - 0.7037
3. **Алексей Иванова** (VK: 259889404) - 0.6786
4. **Елена Иванов** (VK: 622340849) - 0.6786
5. **Максим Смирнов** (VK: 452842055) - 0.6786

## Интерпретация результатов

### Ключевые выводы:

#### Анализ основной сети:
1. **Елена Иванов** (VK: 622340849) - абсолютный лидер по посредничеству и близости в основной сети
2. **Максим Соколов** (VK: 231729160) - лидер по влиятельности (центральность собственного вектора)
3. **Михаил Петрова** (VK: 348880886) - стабильно входит в топ-3 по всем метрикам

#### Анализ подграфа группы:
1. **Михаил Петрова** (VK: 348880886) - ключевой посредник внутри группы
2. **Максим Соколов** (VK: 231729160) - лидер по близости внутри группы и влиятельности в основной сети
3. Подграф группы имеет высокую плотность (0.4526) по сравнению с основной сетью (0.0135)

#### Сравнение порожденных подграфов:
- **K-ядро** имеет наивысшую плотность (~0.50) - самое плотное ядро сети
- **Подграф группы** показывает сильные внутренние связи между членами (плотность 0.4526)
- **Индивидуальные подграфы** членов группы имеют диаметр 2 и среднюю длину пути ~1.8
- Подграф группы в 33 раза плотнее основной сети (0.4526 vs 0.0135)

### Различия в метриках:
- **Центральность посредничества** выявляет узлы, которые служат мостами между различными частями сети
- **Центральность близости** показывает узлы с наименьшим средним расстоянием до всех остальных
- **Центральность собственного вектора** определяет узлы, связанные с другими влиятельными узлами

## Файлы проекта
- `vk_friends_ip_dataset.py` - Основной код с методом порожденного графа
- `visualize_subgraphs.py` - Дополнительная визуализация подграфов
- `vk_friends_dataset.json` - Полный датасет в формате JSON
- `group_members_centrality_analysis.csv` - Детальный анализ центральности членов группы
- `subgraph_analysis.csv` - Анализ свойств порожденных подграфов
- `vk_friends_network.png` - Визуализация основной сети
- `subgraphs_comparison.png` - Сравнительная визуализация подграфов
- `requirements.txt` - Зависимости проекта

## Использование
```bash
pip install -r requirements.txt
python3 vk_friends_ip_dataset.py  # Основной анализ с порожденными подграфами
python3 visualize_subgraphs.py    # Дополнительная визуализация подграфов
```

## Технические детали
- **Метод порожденного графа**: реализованы различные типы подграфов (группа, k-ядро, высокая центральность, индивидуальные)
- Использованы реалистичные IP-диапазоны российских провайдеров (Ростелеком, МТС, Билайн, Мегафон и др.)
- Реалистичные VK ID в формате 8-9 цифр
- Алгоритмы центральности реализованы с помощью библиотеки NetworkX
- Анализ проводится как для основной сети, так и для каждого порожденного подграфа
- Визуализация создана с помощью matplotlib
- Сравнительный анализ свойств различных подграфов (плотность, диаметр, кластеризация)